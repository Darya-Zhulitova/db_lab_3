# Лабораторная работа №3
# Выполнила: Жулитова Дарья 22ПИ-2

В таблице ниже представлено медианное значение времени за 15 запусков программы для каждого из 4 запросов с использованием 4 библиотек.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/5282c94e-e0b3-4d6b-be87-619110defa33)

Для большей наглядности покажу полученные результаты в виде сравнительного графика.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/56ae868b-b10c-4efe-ab44-09efb1ec564e)

Как можно заметить, данные по DuckDb не видны на графе, поскольку они слишком малы по сравнению с другими.

По скорости работы DuckDb оказалась наиболее быстрой, поскольку хранит данные в оперативной памяти ноутбука, что значительно ускоряет доступ и упрощает процесс работы с ними.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/10745075-1e5f-4277-9f39-4aba80857644)

Библиотека SQLite оказалась удобной в использовании, поскольку не требует установки отдельного сервера базы данных и хранит данные на жестком диске. По скорости эта библиотека заняла среднюю позицию.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/735370e9-4f60-4ff2-830f-19acd6b4374c)

Библиотека Pandas также имеет средние показатели по времени работы и оказалась простой в использовании. Это связано с тем, что в качестве базы данных эта библиотека использует SQLite. Аналогично с SQLite, хранение данных осуществляется на жёстком диске.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/0ad1179b-a078-4b41-aa25-cf726b381c38)

В ходе исследования стало ясно, что Postgres оказалась самой медленной среди рассматриваемых библиотек. Причиной является то, что она обращалась к базе данных через сеть.

![image](https://github.com/Darya-Zhulitova/db_lab_3/assets/154079181/742a53ab-8ea6-4eb2-bf93-692eb09d139d)

# Вывод

Во время изучения библиотек для работы с данными я обнаружила, что самой сложной в использовании оказалась библиотека Postgres. Для неё необходимо наличие сервера базы данных Postgres в docker-контейнере. Могут потребоваться технические навыки и время для установки и настройки. Я предполагаю, что это может быть затруднительным для пользователей, у которых не было опыта работы с Docker ранее. Остальные библиотеки, с которыми мне удалось поработать, а именно SQLite, DuckDb и Pandas, оказались примерно одинаково просты в использовании. 

# Инструкция по запуску бенчмарка

1. Изменить csv файл датасета. Переименовать последнюю колонку в Airport_fee2. SQLite выдает ошибку при обработке исходного датасета, так как с точки зрения библиотеки колонки airport_fee Airport_fee имеют одинаковое название.

2. Поместить датасет рядом с файлом main.py

3. Установить необходимые дополнительные библиотеки

pip install pandas sqlalchemy psycopg2 duckdb

4. Запустить базу данных postgres в docker

5. Запустить main.py

6. После первого запуска можно закомментировать код после # Postgres import csv для ускорения работы программы
